
void usertft_init(void)

{
  FSMC_NORSRAM_EXTENDED_InitTypeDef bwr;
  FSMC_init2 btr;
  GPIO_InitTypeDef gpioConfig;
  FSMC_NORSRAM_InitTypeDef fsmc_init;
  
  fsmc_init.bwtr = &bwr;
  fsmc_init.btr = &btr;
  fsmc_init_init(&fsmc_init);
  btr.ADDSET = 6;
  btr.ADDHLD = 6;
  btr.DATAST = 0x14;
  btr.BUSTURN = 0;
  btr.CLKDIV = 0;
  btr.DATLAT = 0;
  btr.ACCMOD = 0x10000000;
  bwr.ADDSET = 6;
  bwr.ADDHLD = 6;
  bwr.DATAST = 0x14;
  bwr._0 = 0;
  bwr.CLKDIV = 0;
  bwr.DATLAT = 0;
  bwr.ACCMOD = 0x10000000;
  rccFUN_08009c80(0x78,1);
  FUN_08009cc4(1);
  gpioConfig.pins = p2;
  gpioConfig.moder = 1;
  gpioConfig.otype = 0;
  gpioConfig.pupdr = 1;
  gpioConfig.ospeed = 3;
  HAL_GPIO_Init(PTR_GPIOG_08018ce0,&gpioConfig);
  gpio_reset_pin(PTR_GPIOG_08018ce0,p2);
  gpioConfig.pins = p8;
  gpioConfig.moder = 1;
  gpioConfig.otype = 0;
  gpioConfig.pupdr = 1;
  gpioConfig.ospeed = 3;
  HAL_GPIO_Init(PTR_GPIOG_08018ce0,&gpioConfig);
  GPIO_set_alt_mode(PTR_GPIOD_08018cd8,P0,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOD_08018cd8,P1,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOD_08018cd8,P4,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOD_08018cd8,P5,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOD_08018cd8,P7,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOD_08018cd8,P8,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOD_08018cd8,P9,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOD_08018cd8,P10,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOD_08018cd8,P11,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOD_08018cd8,P14,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOD_08018cd8,P15,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOE_08018ce4,P7,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOE_08018ce4,P8,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOE_08018ce4,P9,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOE_08018ce4,P10,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOE_08018ce4,P11,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOE_08018ce4,P12,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOE_08018ce4,P13,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOE_08018ce4,P14,AF12_FSMC_SDIO_OTG_FS);
  GPIO_set_alt_mode(PTR_GPIOE_08018ce4,P15,AF12_FSMC_SDIO_OTG_FS);
  gpioConfig.moder = 2;
  gpioConfig.ospeed = 1;
  gpioConfig.otype = 0;
  gpioConfig.pupdr = 1;
  gpioConfig.pins = p0|p1|p4|p5|p7|p8|p9|p10|p11|p14|p15;
  HAL_GPIO_Init(PTR_GPIOD_08018cd8,&gpioConfig);
  gpioConfig.pins = p7|p8|p9|p10|p11|p12|p13|p14|p15;
  HAL_GPIO_Init(PTR_GPIOE_08018ce4,&gpioConfig);
  fsmc_init.bank = 0;
  fsmc_init.MUXEN = 0;
  fsmc_init.MTYP = 0;
  fsmc_init.MWID = 0x10;
  fsmc_init._1 = 0;
  fsmc_init._2 = 0;
  fsmc_init._3 = 0;
  fsmc_init._4 = 0;
  fsmc_init._5 = 0;
  fsmc_init.WREN = 0x1000;
  fsmc_init.WAITEN = 0;
  fsmc_init.EXTMOD = 0;
  fsmc_init._7 = 0;
  fsmc_init.btr = &btr;
  fsmc_init.bwtr = &bwr;
  ::fsmc_init(&fsmc_init);
  FSMC_toggle(0,true);
  return;
}